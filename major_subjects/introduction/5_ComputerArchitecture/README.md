# 컴퓨터 구조

# 컴퓨터 시스템의 하드웨어 기본 구성요소

---

![Untitled](%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%2082fca012eda04de5b4b7de07ae361489/Untitled.png)

- 중앙 처리 장치(CPU: Central Processing Unit)
    - 제어장치(CU: Control Unit), 처리장치[산술논리연산장치(ALU: Arithmetic and Logic Unit)+레지스터(register)]
- 기억장치
- 입력장치
- 출력장치
- 시스템 버스
    - 주소(address) 버스, 데이터(data) 버스, 제어(control) 버스

# 불대수

---

- 불대수(boolean algebra)란?

> 이진 변수와 논리연산을 나타내는 대수
> 
- 기본 논리 연산
    - 논리합(OR)
    - 논리곱(AND)
        - 어떤 비트 패턴의 일부분을 다른 부분은 변화시키지 않고 0으로 만드는데 많이 사용(마스킹(masking))
        - 비트 마스킹
            
            ```
            { 0, 1, 2, 3, 4 } => 11111
            { 1, 2, 3, 4 } => 11110
            { 1, 2, 4 } => 10110
            { 2, 4 } => 10100
            { 1 } => 00010
            ```
            
            - 어떤 요소가 true인지 결정하는 방법
    - 논리부정(NOT)
    - 시프트(Shift)
        - 논리적 시프트(logical shift)
            - 비트 영역에서 벗어난 비트는 버리고 빈 부분을 0으로 채워넣는 방식
            
            ```
            # logical left shift
            110011 -> 100110
            # logical right shift
            110011 -> 011001
            ```
            
        - 순환 시프트(circular shift)
            - 비트 영역에서 벗어난 최상위,최하위 비트를 순서대로 채워넣는 방식
            
            ```
            # circular left shift
            1010 -> 0101
            # circular right shift
            1100 -> 0110
            ```
            
- 논리 게이트(logic gate)
    
    ![Untitled](%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%2082fca012eda04de5b4b7de07ae361489/Untitled%201.png)
    
    - 논리 연산을 실제로 하드웨어로 구현한 소자
- 

# 논리회로

---

![Untitled](%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%2082fca012eda04de5b4b7de07ae361489/Untitled%202.png)

- 조합회로(combinational circuit)
    - 출력값이 단순히 현재 입력값의 논리 조합에 의해서만 결정되는 회로
    - 연산을 위한 회로로 사용
    - 종류
        - 전가산기
        - 디코더
        - 인코더
        - 멀티플렉서
        - 디멀티플렉서
- 순서회로(sequential circuit)
    - 출력값이 입력값과 기억소자에 저장된 현재 상태에 따라 결정되는 회로
    - 종류
        - 카운터, 레지스터 등
    - 플립플롭(filp-flop)
        - 입력신호에 의해 또 다른 입력 상태로 바뀌지 않는 동안 현재의 2진 상태를 그대로 유지하게 만든 회로
        - 1비트 정보를 저장할 수 있는 기억소자
        - RS 플립플롭
        - T 플립플롭

## 1비트 전가산기(FA: Full Adder)

---

![Untitled](%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%2082fca012eda04de5b4b7de07ae361489/Untitled%203.png)

- 2개의 비트와 아랫자리에서 올라오는 올림수를 입력받아 가산한 결과로 합과 바로 윗자리로의 올림수(carry)를 계산하는 조합회로
- 1비트 전가산기를 직렬로 연결한 원하는 비트의 전가산기 구성 가능
- 1비트 전가산기 진리표

![Untitled](%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%2082fca012eda04de5b4b7de07ae361489/Untitled%204.png)

## 디코더($n×m$)

---

![Untitled](%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%2082fca012eda04de5b4b7de07ae361489/Untitled%205.png)

- n비트의 이진 코드를 최대 m($=2^n$)개의 서로 다른 정보로 변환해 주는 장치
- 출력 중에서 한 개만 1이고 나머지 출력은 0

## 멀티플렉서(MUX)

---

![- 4×1 MUX](%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%2082fca012eda04de5b4b7de07ae361489/Untitled%206.png)

- 4×1 MUX

- $2^n$개의 데이터 입력선 중 하나를 선택하여 단일의 출력으로 내보내는 회로
- 특정 입력선 선택을 위해 n개의 선택변수 존재

## 카운터

---

![- T 플립플롭을 이용한 3비트 카운터](%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%2082fca012eda04de5b4b7de07ae361489/Untitled%207.png)

- T 플립플롭을 이용한 3비트 카운터

- 입력될 때마다 미리 정해진 순서에 따라 상태가 변하는 순서회로
- T 플리플롭으로 쉽게 구현 가능

# 기억장치

---

- ROM
    - 1개의 디코더와 여러 개의 OR 게이트를 사용한 조합회로로 구현 가능
- RAM
    - 1비트 기억소자(1개의 플립플롭, 3개의 AND 게이트, 2개의 NOT 게이트로 구성), 디코더, OR 게이트를 사용한 순서회로로 구현 가능

# 기억장치의 계층 구조

---

![Untitled](%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%2082fca012eda04de5b4b7de07ae361489/Untitled%208.png)

- 참조의 지역성에 기반을 두고 있는 개념
- 가능한 시스템 가격을 최소화하면서 최고의 평균 접근 속도를 제공하기 위한 것

# 명령어

---

- 명령어 집합
    - 컴퓨터 시스템 내에 정의되어 있는 기본적인 명령어들의 집합
- 명령어 종류
    - 데이터 전송 명령어
    - 데이터 처리 명령어
        - 사칙연산에 대한 산술 명령어
        - 논리연산 명령어
        - 시프트(shift) 명령어
    - 프로그램 제어 명령어
        - 무조건적 분기
            - 프로그램의 지정주소로 무조건 이동
        - 조건적 분기
            - 논리연삭 혹은 값 비교에 따라 나온 논리적인 결과에 따라 지정주소로 이동하거나 이동하지 않는 기능
    - 입출력 명령어
        - 보조기억장치나 입출력장치 등으로 정보를 주고받는 명령어
        - 인터럽트 관련 명령어
            - 인터럽트: 프로그램의 정상 수행을 잠시 멈추고 중앙처리장치 이외에 다른 장치의 요구사항을 수행하기 위한 기능
- 명령어 집합과 이를 기반으로 작동하는 명령어 집합 구조에 따른 구분
    - CISC(Complex Instruction Set Computer)
        - 주소지정방식의 수를 많이 사용하는 구조의 컴퓨터
    - RISC(Reduced Instruction Set Computer)
        - 복잡한 명령어를 단순화하여 명령어의 수를 줄이고 하드웨어를 간단히 개선시킨 구조의 컴퓨터

## 명령어 형식

---

![Untitled](%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%2082fca012eda04de5b4b7de07ae361489/Untitled%209.png)

- 각 명령어의 기본 형식은 연산자코드와 오퍼랜드로 구성
- 연산자코드
    - 처리할 연산의 종류
- 오퍼랜드
    - 피연산자

# 주소지정방식

---

- 연산에 사용될 데이터가 기억장치에 어디 위치하는지 지정하는 방법
- 종류
    - 즉시 주소지정방식
        - 명령어의 오퍼랜드 필드에 저장된 내용 자체가 연산에 사용될 실제 데이터
    - 직접 주소지정방식
        - 오퍼랜드의 내용이 실제 데이터가 저장된 기억장치의 주소
        - 다음과 같은 주소를 유효주소라고 말함
    - 간접 주소지정방식
        - 오퍼랜드의 내용이 실제 데이터가 저장된 기억장치의 주소를 가지고 있는 기억장치의 주소
    - 레지스터 주소지정방식
        - 오퍼랜드의 내용이 실제연산에 사용될 데이터가 들어 있는 레지스터
    - 레지스터 간접 주소지정방식
        - 오퍼랜드의 내용이 레지스터 중 하나를 지정
        - 지정된 레지스터의 내용은 실제 연산에 사용될 데이터가 저장된 기억장치 주소를 지정
    - 상대 주소지정방식
        - 실제 데이터가 저장된 주소는 중앙처리장치 내에 있는 특정 레지스터의 내용에, 명령어의 오퍼랜드의 내용을 더함
        - 분기형 명령어에서 자주 사용됨
        - 주로 사용되는 레지스터는 프로그램 카운터(PC)
    - 인덱스 주소 지정방식
        - 인덱스 레지스터의 내용과 오퍼랜드의 내용을 더해 실제 주소를 계산하는 방식
        - 배열 인덱싱할 때 많이 사용
        - 인덱스 레지스터 대신 베이스 레지스터를 사용하는 경우 베이스 레지스터 주소지정방식

# 명령어 구현 방법

---

- 마이크로프로그램에 의한 제어장치
- 직접 회로로 구성된 제어장치

# CPU 레지스터

---

- 범용 레지스터
- 특수 레지스터
    - 종류
        - 누산기, 프로그램 카운터, 명령어 레지스터,기억장치 버퍼 레지스터, 기억장치 주소 레지스터

# 처리장치에서 연산 처리

---

- 마이크로연산으로 구현
- 마이크로연산이란?
    - 비트 패턴으로 이루어져 있으며, 연산 처리와 관련된 모든 기능을 구현
    - 마이크로연산은 제어 단어와 일대일 매핑되어 이를 하드웨어적으로 연산이 처리
- 제어단어의 각 비트는 각종 MUX와 디코더의 선택 제어선으로 연결되어 있는 하드웨어를 직접적으로 통제 가능

# 제어장치

---

- 기억장치에서 명령어를 하나씩 가져와 처리장치를 구동해서 연산을 수행
- 연산의 결과를 레지스터에 쓰고, 명령에 따라 다음에 수행할 명령의 주소 정보를 생성
- 명령어 사이클
    
    ![Untitled](%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%A5%20%E1%84%80%E1%85%AE%E1%84%8C%E1%85%A9%2082fca012eda04de5b4b7de07ae361489/Untitled%2010.png)
    
- 구성요소
    - 프로그램 카운터
        - 다음에 수행될 명령어가 있는 기억장치 주소를 저장하고 있는 레지스터
    - 명령어 레지스터
        - 프로그램 수행 중 현재 실행 중인 명령어를 저장하고 있는 레지스터
    - 명령어 디코더
        - 명령어가 주어지면 제어기억장치의 해당 마이크로명령이 시작하는 주소로 매핑해 줌
    - 주소결정회로
        - 다양한 주소 정보로부터 제어기억장치에서 다음에 수행할 마이크로명령의 주소를 생성
    - 제어기억장치 주소 레지스터(CMAR)
        - 제어기억장치에서 다음에 수행할 마이크로명령의 위치를 가르키는 주소를 저장하는 레지스터
    - 제어기억장치 데이터 레지스터(CMDR)
        - 제어기억장치에서 가져온 다음 수행할 마이크로연산을 저장하는 레지스터

# 입출력 시스템

---

- 구성요소
    - 입출력장치
        - 사용자와 컴퓨터 시스템을 연결해주는 장치
        - 키보드, 모니터, 하드디스크 등
    - 입출력장치 제어기
        - 입출력장치를 구동하는 작업을 수행하는 기기
    - 입출력장치 인터페이스
        - 입출력장치와 컴퓨터 내부의 중앙처리장치/주기억장치의 차이를 상쇄하여 올바른 정보 전송을 제공
    - 입출력 버스
        - 입출력 전용으로 사용되는 정보 회선의 묶음
        - 여러 개의 입출력장치가 하나의 버스를 공유함
- 제어 방식
    - 중앙처리장치에 의한 제어방식
        - 프로그램에 의한 입출력 방식
            - 중앙처리장치가 주기적으로 입출력장치에 신호를 보내 입출력 과정 전반에 개입
        - 인터럽트에 의한 입출력 방식
            - 입출력장치가 인터럽트 걸 때만중앙처리장치가 하던 일을 중단하고 해당 장치와 연락
            - 입출력 동작 관여를 입출력 인터페이스에서 대신함
    - DMA(Direct Memory Access)에 의한 방식
        - 입출력장치가 주기억장치와 바로 연결되어 있음
        - 중앙처리장치는 두 장치간 정보 교환의 초기 설정 및 허가에만 관여
        - 직접적인 정보 이동은 장치 간 전용 하드웨어(DMA 제어기)가 해결
    - 채널에 의한 방식
        - 입출력 전용의 별도 처리장치를 사용

# 병렬처리

---

- 파이프라인 처리기
    - CPU 내에 있는 하드웨어 요소의 일부를 파이프라인 형태로 구성하여, 프로그램 수행에 필요한 작업을 시간상으로 중첩하여 수행하는 처리기