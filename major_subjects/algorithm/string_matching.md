# 문자? ?? (String Matching)

## ?? 비교 (Naive Pattern Searching)

**??**

- ??? 문자?? 처음?? ?까?? ???? 비교?? ??? 찾는 ?고리?

  - ???? 문자??? ??
  
**??**

- 길이? n? ??? T??? 길이? m? ?? P? 존재 ??? ?? (m<=n)

    - T[ 0.. n-1 ]
    - P[ 0.. m-1 ]
    
- ?? P? ??? T? 처음?? n-m+1까?? ???? 매치? ??? ??

- ??? 발견?? ??? ?치?? 출력?? ?? ?? ?? ??

**코드**

```c

void naivePatternSearch (char T[], char P[]) {

  int n = strlen(T);
  int m = strlen(P);

  for (int i = 0; i <= n-m; i++) {

    for (int j = 0; j < m; j++) { 

      if (T[i+j] != P[j])
        break;

      if (j == m-1) {

        printf("Pattern found at index %d \n", i);
        break;

      }
    }
  }
}

```


**??**

- 추?? 공간? ?구되? ??

**??**

- ???? 비교?기에 비효??
- ?? ??? 마친 ?치?? 기억?? 못함

**?간복??**
  
  - **Best Case**
  
      - ??? 첫문?? ???? ?? ?
     
          - T [] = "AABBAAB"
          - P [] = "FAA"
          
      - ???? 길이? n ?? **O(n)**
     
  - **Worst Case**

      - ?????? ??? 모든 문자? 같을 경우
   
          - T [] = "AAAAAAA"
          - P [] = "AA"
          
      - ??? 마??? 문자? ?? 경우
    
          - T [] = "AAAAAAA"
          - P [] = "AAB"
          
      - ??? 길이? m ?? **O(m * (n-m+1))**

#

## ??-코라? ?고리? (Aho-Corasick)


**??**

- ?? 집단? ???? ???? 문자? ?? ?고리즘들? ??? ?? 고안? 문자? ?? ?고리?


**??**

- KMP ?? ????? ?? ??? 찾아? ? ?? (1:1)
- ?? 코라? ?? ????? ?? ??개?? ??? 찾아? ? ?? (1:N)

    - KMP? ????? ? ? ??
    - KMP? 문자?? 문자? 매칭
    - ??-코라???? 문자?? **???** ? 매칭
    
    - **???????**
    
        - ???(Trie)? 문자?? 집합? ???? '?? ?료구?'
        - S = 문자?
        - W = ?? 문자? 집합
        
<p align="center"><img src="https://user-images.githubusercontent.com/113777043/209805630-bb7782f7-5204-4000-96e4-52e21070cd19.png" width = "80%"></p> 

- **?? ??(Failure Function)**
    - 매칭? 중간? ??????? ? ?금까? ??? ???? 그??? ???? ????? ???? ?? ??




### ??
- 문자??? 찾고? ?? ?? 문자?(pattern)? ?치?? 찾는 ?고리?

### 종류
- ?? 비교
- ??-카프 ?고리?
- KMP ?고리?
- 보이?-무어 ?고리?
- ??-코라? ?고리?

---

## ?? 비교 (Naive Pattern Searching)

### ??

- ??? 문자?? 처음?? ?까?? ???? 비교?? ??? 찾는 ?고리?

  - ???? 문자??? ??
  
### ??

- 길이? n? ??? T??? 길이? m? ?? P? 존재 ??? ?? (m<=n)

    - T[ 0.. n-1 ]
    - P[ 0.. m-1 ]
    
- ?? P? ??? T? 처음?? n-m+1까?? ???? 매치? ??? ??

- ??? 발견?? ??? ?치?? 출력?? ?? ?? ?? ??

### 코드

```c

void naivePatternSearch (char T[], char P[]) {

  int n = strlen(T);
  int m = strlen(P);

  for (int i = 0; i <= n-m; i++) {

    for (int j = 0; j < m; j++) { 

      if (T[i+j] != P[j])
        break;

      if (j == m-1) {

        printf("Pattern found at index %d \n", i);
        break;

      }
    }
  }
}

```


### ??

- 추?? 공간? ?구되? ??

### ??

- ???? 비교?기에 비효??
- ?? ??? 마친 ?치?? 기억?? 못함

### ?간복??
  
  - **Best Case**
  
      - ??? 첫문?? ???? ?? ?
     
          - T [] = "AABBAAB"
          - P [] = "FAA"
          
      - ???? 길이? n ?? **O(n)**
     
  - **Worst Case**

      - ?????? ??? 모든 문자? 같을 경우
   
          - T [] = "AAAAAAA"
          - P [] = "AA"
          
      - ??? 마??? 문자? ?? 경우
    
          - T [] = "AAAAAAA"
          - P [] = "AAB"
          
      - ??? 길이? m ?? **O(m * (n-m+1))**

#


## ??-카프 ?고리?(Rabin-Karp)

 

### ??

- 문자?? **?? 기법**? ???? **?? ?**?? 비교?? ?고리?

### ??

- ? 문자? **??? 코드** 값에 **?? ?곱수**? 차?????? 곱하? **모두 ???** ?? 값을 만든?.
    - 차?????? ?? ?미는 ?리마?(?? ???) ?? ?? 곱해주는 ?

### ??

- ?? ?곱수? 2? ?? ?, abacaaba? ?? ? ( a : 97 , b : 98 )
    - 97 * 2^7 +
        
        98 * 2^6  +
        
        97 * 2^5 + ??? (??)
        
    
- 문자? AABDCDAB?? ?? ABD ? 발견?? ? ???? ??

| 문자? | A | A | B | D | C | D | A | B |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| ?? | A | B | D |  |  |  |  |  |
- ?? ???? 문자? ?? ?(AAB) : 846
- 문자? ?? ?? ?(ABD) : 851
    - ?? ??

| 문자? | A | A | B | D | C | D | A | B |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| ?? | A | B | D |  |  |  |  |  |
- ABD ?? 값이 같아 ?? ??

??로도 ?? ? 같?? 방식?? 계속 ??

### 코드

```python
def find_string(parent, pattern):
	  parent_len = len(parent)    # ?? ???? 문자?
    pattern_len = len(pattern)  # 찾으?? ?? 문자?
    parent_hash = 0
    pattern_hash = 0
    power = 1
    for i in range(parent_len - pattern_len + 1):
        if i == 0:
            for j in range(pattern_len):
                parent_hash += ord(parent[pattern_len - 1 - j]) * power  # ord : ???코드 ? 반환
                pattern_hash += ord(pattern[pattern_len - 1 - j]) * power
                if j < pattern_len - 1:
                    power *= 2
        else:
            parent_hash = 2 * (parent_hash - ord(parent[i - 1]) * power) + ord(parent[pattern_len - 1 + i])

        if parent_hash == pattern_hash:
            found = True
            for j in range(pattern_len):
                if parent[i + j] != pattern[j]:
                    found = False
                    break
            if found:
                print(f'{i + 1}번째?? 발견')
```

- ?? ?곱수? 2? ?? ?? 코드

### ??

- ?반적? 경우 빠른 ??
- 비교? 간단? 구조

### ??

- ?? ?? 길어? ?? ??? 증??
    - ??? 법칙 ?? ???? 보완
- ?? 충돌

### ?간복??

- O(n)

#

## ??-코라? ?고리? (Aho-Corasick)

### ??

- ?? 집단? ???? ???? 문자? ?? ?고리즘들? ??? ?? 고안? 문자? ?? ?고리?


### ??

- KMP ?? ????? ?? ??? 찾아? ? ?? (1:1)
- ?? 코라? ?? ????? ?? ??개?? ??? 찾아? ? ?? (1:N)

    - KMP? ????? ? ? ??
    - KMP? 문자?? 문자? 매칭
    - ??-코라???? 문자?? **???** ? 매칭
    
    - **???????**
    
        - ???(Trie)? 문자?? 집합? ???? '?? ?료구?'
        - S = 문자?
        - W = ?? 문자? 집합
        
<p align="center"><img src="https://user-images.githubusercontent.com/113777043/209805630-bb7782f7-5204-4000-96e4-52e21070cd19.png" width = "80%"></p> 

- **?? ??(Failure Function)**

    - 매칭? 중간? ??????? ? ?금까? ??? ???? 그??? ???? ????? ???? ?? ??


### ??

- ? 많?? ????? ?? ????? ?분적?? ??? 각각? ?치들? 빠르? 찾을 ? ??

### ??

- ???? ???기에 메모리?? 많이 ??

### ?간복??

- O(S+W+P)

	- S = 문자?
	- W = ?? 문자??
	- P = ??? 문자?? 출현 ??
