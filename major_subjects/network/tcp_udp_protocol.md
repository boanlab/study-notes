# Transport layer
- TCP/IP 에서 TCP와 UDP라는 2개의 대표적인 트랜스포트 프로토콜이 존재한다. TCP는 신뢰성 있는 통신을 제공하고, UDP는 동보 통신이나 세세한 제어는 애플리케이션에게 맡기는 편이 좋은 통신에 사용된다. 즉, 필요로 하는 통신의 특성에 따라 사용할 트랜스퐅 프로토콜을 선택할 수 있다.
## 트랜스포트층이란
- OSI 참조 모델의 4층에 해당하는 트랜스포트층에 포트 번호에 의해 트랜스포트층의 상위층인 애플리케이션층의 처리를 수행할 프로그램을 식별한다.
## 통신 처리
- 트랜스포트 프로토콜인 TCP, UDP는 포트 번호를 바탕으로 수신한 데이터가 누구 앞으로 온 것인지 판단한다.
## TCP와 UDP
### TCP
- TCP는 커넥션 지향의 신뢰성 있는 스트림형 프로토콜이다.
- 애플리케이션이 TCP를 사용하여 메시지를 송신하면, 송신한 순서는 유지되지만 하나로 이어진 데이터 구조로 수신 측의 애플리케이션에게 전달된다.
### UDP
- UDP는 신뢰성 없는 데이터그램형 프로토콜이다.
- 세세한 처리는 애플리케이션이 담당한다.
- UDP의 경우 송신할 때에 메시지의 크기가 유지되지만, 패킷이 반드시 도달한다는 보장이 없다.
- 필요에 따라 애플리케이션의 메시지 재전송 처리가 필요하다.
## TCP vs UDP
<img width="600" alt="image" src="https://user-images.githubusercontent.com/110087065/210268931-c57e5b29-05e8-4c99-9ec1-404d7f48cb6c.png">


# 포트 번호
## 포트 번호란
- 트랜스포트 프로토콜에는 '포트 번호'가 존재한다.
- 포트 번호는 동일한 컴퓨터 안에서 통신을 하고 있는 프로그램을 식별할 때에 사용된다. 즉, 프로그램의 주소라고 할 수 있다.
## 포트 번호의 결정 방법
- 통신을 하기 전에 포트 번호를 결정해야 하는데 포트 번호를 결정하는 방법은 두 가지가 존재한다.
### 1. 표준으로 정해져 있는 번호
- 사용 목적이 정해져 있는 포트 번호를 고정적으로 사용하는 방법이다.
- 널리 사용되는 애플리케이션 프로토콜에는 사용할 포트가 정해져 있는데 이를 잘 알려진 포트 번호(Well-known Port Number)라고 한다.
- 잘 알려진 포트 번호는 0~1023까지의 번호가 할당되어 있다. 이 번호들은 다른 용도로 사용하지 않는 것이 좋다.
- '정식으로 등록된 포트 번호'도 존재하는데 1024~49151까지의 번호로 할당 되어 있다. 이 번호들은 다른 용도로 사용해도 혼란을 야기하지 않는다.
### 2. 동적 할당법
- 서버는 포트 번호가 정해져 있지만, 클라이언트는 포트 번호가 정해져 있지 않아도 된다.
- 운영체제에게 포트 번호 결정을 일임하여 운영체제가 동적으로 포트 번호를 관리한다.
- 운영체제는 애플리케이션별로 동일한 값이 되지 않도록 제어하면서 포트 번호를 할당한다.
- 동적으로 할당하는 포트 번호는 49152~65535까지의 번호를 사용한다.
## 포트 번호와 프로토콜
- 포트 번호는 사용하는 트랜스포트 프로토콜별로 결정되기 때문에 다른 프랜스포트 프로토콜의 경우 동일한 포트 번호를 사용할 수 있다.
- 동일한 포트 번호가 오더라도 트랜스포트별로 TCP는 TCP 모듈이 UDP는 UDP 모듈이 포트번호를 처리하기 때문에 같으 포트번호를 사용할 수 있다.

# UDP(User Datagram Protocol)
## UDP의 목적과 특징
- UDP는 복잡한 제어를 제공하지 않고, IP를 사용하여 Connectionless 통신 서비스를 제공한다.
- UDP는 네트워크가 복잡해도 송신량을 제어하고 혼잡을 회피하는 통신을 하지 않는다.
- 패킷이 분실되어도 재전송 처리를 하지 않고, 패킷의 도착 순서가 변동되었을 때 고치는 기능이 없다.
- 이러한 제어가 필요할 때는 애플리케이션 프로그램에서 처리해야 한다.
- UDP는 Connectionless이기 때문에 언제든지 데이터를 송신할 수 있고 UDP 프로토콜 자체의 처리도 간단하여 고속 작동하므로 아래와 같은 용도에 적합하다.
  - 총 패킷 수가 적은 통신(DNS, SNMP)
  - 멀티미디어 통신
  - LAN과 같은 네트워크가 한정된 애플리케이션 통신
  - Broadcast, Multicast


# TCP(Transmission Control Protocol)
- TCP는 전송, 송신, 통신을 제어하는 프로토콜이다.
- 패킷이 분실된 경우 재전송 처리를 하고, 순서가 바뀐 경우의 순서 제어를 한다.
- 커넥션 제어가 존재하여 통신 상대가 있는 경우에만 데이터를 송신하여 쓸데없는 통신을 제어할 수 있다.
## TCP의 목적과 특징
- IP 데이터그램을 사용하여 신뢰성 있는 통신을 실현하기 위해 고안되었다.
- TCP에서는 체크섬이나 시퀀스 번호, 확인 응답, 재전소 제어, 커넥셔 관리, 윈도 제어와 같은 기능을 제공하여 신뢰성 있느 통신을 실현시킨다.
## 시퀀스 번호와 확이 응답으로 신뢰성을 제공
## 재전송 타임아웃의 결정
## 커넥션 관리
## TCP는 세그먼트 단위 데이터를 전송
## 윈도 제어로 속도 향상
## 윈도 제어와 재전송 제어
## 플로 제어(유량 제어)
## 혼잡 제어(네트워크 혼잡 해소)
## 네트워크의 이용 효율을 높이는 장치
## TCP를 이용하는 애플리케이션


# 기타 트랜스포트 프로토콜
## UDP-Lite
## SCTP
## DCCP
