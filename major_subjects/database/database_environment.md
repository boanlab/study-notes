# 데이터베이스 개론

* 데이터(data) : `관찰이나 측정`을 통해 수집된 사실이나 값
* 정보(information)  : `의사결정을 할 수 있게` 하는 데이터의 해석이나 데이터 상호간의 관계

    ```
    P(D) = I    # 데이터는 처리기를 통해 정보화된다.
    ```
### 정보 시스템 : 데이터를 수집하여 정보를 생성, 분배하는 수단
* 응용 시스템 : 한 부서를 위한 `서브 시스템`
* 경영 정보 시스템(MIS) : 유용한 정보를 제공하여 의사결정, 경영방식 등을 지원하는 통합된 인간-기계 시스템
* 의사 결정 지원 시스템(DSS) : `대화형 정보시스템`으로 대량의 데이터를 분석해 업무에 관한 의사결정에 필요한 정보를 제공
### 자료 처리 시스템
* 일괄 처리
    - 사전 준비작업 필요 : 원시 데이터, 분류 정리 파일
    - **`시스템 중심`** 처리방법 : 높은 시스템 성능, 낮은 처리비용
    - 순차 접근 방식의 업무에 유리
* 온라인 처리
    - 실시간 처리
    - **`사용자 중심`** 처리방법: 낮은 시스템 성능, 높은 처리비용
    - 통신 제어기 필요
    - 유지보수, 회복의 오버헤드
* 분산 처리
    - 분산 처리기
    - 분산 데이터베이스
    - 통신 네트워크 

### 데이터베이스의 정의
- 데이터 베이스란? : 한 조직의 여러 응용 시스템들이 공용하기 위해 `통합 저장된 운영 데이터`의 집합
    - 공용 데이터 : 한 조직의 여러 사용자들이 `공동으로 소유하여 유지, 이용하는 데이터`
    - 통합 데이터 : 최소의 중복, 통제된 중복
    - 저장 데이터 : `컴퓨터가 이용` 가능한 형태로 저장(디스크, 메모리 등)
    - 운영 데이터 : 조직의 기능을 수행하기 위해 `사용되는 데이터`
- 데이터 베이스의 특성
    - 실시간 접근성 : 질의에 대한 `실시간 처리` 및 응답
    - 계속적인 변화 : 데이터가 동적으로 변화하는 특성(CRUD)
    - 동시 공용 : 여러 사용자가 `동시에 사용` 가능
    - 내용에 의한 참조 : 데이터의 주소에 의한 참조가 아닌 `값(내용)에 의한 참조`
- 구성 요소
    - 논리적 구성요소 : 사용자의 입장, [데이터베이스 = 개체 + 관계]
    - 개체 
        - 표현하려는 `정보의 객체`
        - 정보의 단위
        - 하나 이상의 속성으로 구성
    - 관계
        - 속성 관계 : 개체 내의 관계(특성)
        - 개체 관계 : 개체 간의 관계
### 데이터 베이스의 구조
- 논리적 구조 : `사용자의 관점`에서 본 구조로 데이터의 논리적 배치를 의미, 논리적 구조에서 취급하는 데이터이며 대부분 논리적 구조의 일부만 접근해서 사용하는것이 보통임
- 물리적 구조 : `저장관점`에서 본 구조로 저장 장치에 실제로 데이터들이 저장되어있는 모습, 물리적 구조에서 취급하는 데이터 레코드들을 저장 레코드라고 함(추가정보(인덱스, 포인터 체인, 오버플로 구역 등)을 포함)
***
# DBMS
### DBMS의 발전 배경
- 파일 중심 데이터 처리 시스템
    1. 프로그램은 프로그래머가 구상한 논리적 파일 구조를 `직접 물리적 파일 구조로 구현`해야함
    2. 프로그래머가 `물리적 구조를 이해`하고 있어야 프로그램에 접근방법을 구현 할 수 있다.
    3. 각 프로그램마다 각자의 데이터파일이 있어서 `데이터 공용이 어려움`, 결국 하나의 파일은 하나의 프로그램을 위해 존재하게됨(파일시스템에서 응용 `프로그램과 파일은 1:1관계`)
    - 파일 시스템의 문제점은 데이터의 `종속성`과 `중복성`을 볼 수 있음
    - 데이터 종속성
        - 프로그램과 데이터 간의 상호 의존관계
        - `데이터의 구성방법, 접근방식 등 변경시 프로그램도 동시에 변경`해야함
    - 데이터 중복성 : 한 시스템 안에서 같은 내용의 데이터가 여러 파일에 중복 저장됨, 아래와 같은 문제점 야기
        - 일관성(모순성) : 중복 데이터 간의 동일성을 유지하기 어렵기 때문에 각 `데이터의 불일치`가 일어나 일관성이 없어지게 됨
        - 보안성 : 중복 데이터는 동일한 수준의 보안이 유지되어야 하는데 중복되어 있으면 `똑같은 수준의 보안을 유지하는 것이 힘듬`
        - 경제성 : 데이터를 중복 저장하면 당연하게도 용량이 늘어나 `비용이 더 들게 됨`, 갱신시에도 중복 데이터를 모두 찾아 갱신해 주어야 하므로 더 많은 비용이 들어가 경제성이 떨어짐
        - 무결성 : 제어가 분산되어 `데이터의 정확성을 유지하기 어려움`
---
- DBMS : `하나의 데이터베이스를 여러 프로그램이 이용`할 수 있도록 해주는 시스템
    - 정의 기능
        - 여러 사용자의 요구를 지원할 수 있도록 `하나의 저장 구조로 데이터를 조직`
        - 논리적 구조와 물리적 구조를 명세
    - 조작 기능
        - 사용자과 DB간의 interface
        - 검색, 삽입, 삭제, 갱신 등과 같은 `연산을 처리하는 기능` 제공
        - `데이터 언어`로 표현하여 쉽고 효율적인 처리
    - 제어기능
        - 데이터의 `정확성`과 `보안성`을 유지하는 기능
        - 무결성 유지, 보안,권한검사, 병행수행 제어, 복구 기능
    - 장점
        - 데이터 `중복 최소화`
        - 데이터 공유 가능
        - 일관성 유지
        - 무결성 유지
        - 보안 보장
        - 표준화 용이
        - 기관 전체 데이터 요구의 조정
    - 단점
        - `비용`이 많이 듬
        - 복잡한 backup와 recovery
        - `중앙 집중 관리`로 인한 시스템의 취약성
- DBMS의 궁극적 목적 : `데이터 독립성`
    - 데이터 독립성 : 상위 단계에 영향을 미치지 않고 하위 단계의 구조를 변경가능
    - 논리적 데이터 독립 
        - `응용프로그램에 영향을 주지 않고` 데이터 구조의 변경이 가능
        - 응용프로그램의 효율적 개발이 가능
    - 물리적 데이터 독립
        - `응용 프로그램과 논리적 데이터 구조에 영향을 주지 않고` 데이터 구조의 변경이 가능
        - 저장 장치의 효율적 개발 가능
- DBMS의 발전과정
    - 1세대 DBMS
        - IDS : 최초의 범용 DBMS, 1960년대 초 설계, 네트워크 데이터 모델의 기초
        - IMS : 1960년대 후반 IBM이 개발, 계층 데이터 모델의 기초
    - 2세대 DBMS
        - 관계 데이터 모델 : IBM의 E.F.Codd가 제안, `관계형` DB이론의 기초, 1980년대 부터 DBMS가 주류가 되어 계속 확장됨
        - SQL : IBM이 관계 DBMS의 일부로 개발, 세계 표준 데이터 베이스 언어
        - 주요 상용 DBMS : DB2, Oracle, Ingres, Sybase, Informix
        - PC 기반 DBMS :  Acess, FoxPro, dBase, Paradox, SQL Server
    - 3세대 DBMS
        - 사용자의 DB응용에 대한 복잡성 증가: enginerring, image,videos, spatial, time series, data mining
        - 사용자의 요구에 대처하기 위해 새로운 data model을 기반으로 시스템 개발 : `객체지향` DBMS(OODBMS) 객체지향 프로그래밍 기반
        - 현재는 2세대와 3세대를 합침 : `객체 관계` DBMS(O-RDBMS)

---
### 데이터 베이스 시스템
- 데이터를 데이터베이스로 저장 관리하여 정보를 생성하는 `컴퓨터 중심 시스템`
    - 구성요소 : 3-level database, data languages, users, dbms, database adminstrator, database computer
- 3단계 DB구조 : 하나의 데이터베이스를 외부, 개념, 내부 세 단계로 나눈 것  
    - 내부 에서 외부로 갈 수록 `추상화 레벨`이 높아진다(추상화 레벨이 높아질 수록 아래 단계에는 관심이 없음)
    - 외부단계(외부 스키마)
        - `사용자`마다 DB를 보는 관점(`필요한 영역`)에 따라 차별되게 얻을 수 있는 DB의 논리적인 부분
        - sub schema 라고도 함
    - 개념단계(개념 스키마)
        - `조직 전체`의 관점으로 DB의 일부분이 아닌 `전체`를 정의 
        - 데이터, 관계, 제약조건에 대한 정의, 보안정책, 제약조건 등을 포함함
        - DB하나에는 개념스키마 하나만 존재
        - schema 라고도 함
    - 내부단계(내부 스키마)
        - 전체 DB가 `저장장치`에 실제로 저장되는 방법을 정의 
        - 데이터를 저장하는 레코드의 구조, 필드의 크기, 레코드의 접근 경로 등을 정의
- 3단계간의 사상(Mapping)
    - 사상(Mapping) : DBMS의 궁극적 목표인 독립성을 구현하는 가장 중요한 역할을 함
    - 외부/개념 사상 : `응용 인터페이스` 라고 하며 외부와 개념 스키마 간의 대응 관계 정의,  개념 스키마가 변경된 경우 `이 사상만 변경`해주어 독립성을 유지 가능
    - 개념/내부 사상 : `저장 인터페이스` 라고 하며 개체의 각 속성이 내부 필드와 대응되는 방식 정의, 불가피하게 내부 스키마가 변경시켜야 한다면 이 사상을 변경시켜 독립성 유지 가능 
### 데이터 언어
- DDL(Data Definition Language) : DB를 정의, 조작, 제어 하기 위한 명령 수단
    - 데이터 정의어(DDL) : DB의 구조를 정의, 변경하는데 사용
    - 데이터 정의의 내용
        - 논리적 데이터 구조의 정의 : 스키마, 외부 스키마 명세
    - 물리적 데이터 구조의 정의
        - 내부 스키마 
        - 데이터 지정 정의어
    - 명령어
        - CREATE 생성
        - ALTER 수정
        - DROP 제거

    DDL 예제

        CREATE TABLE STUDENT(
            STUDENTNUMBER INT,
            LASTNAME CHAR(25),
            FIRSTNAME CHAR(25),
            EMAILADDRESS CHAR(100));
        )
---
- DML(Data Manipulation Language) : DBMS와 사용자 간의 통신 수단, `데이터 처리 연산`(검색, 삽입, 삭제, 변경)의 집합
    - 절차적 DML
        - 저급 데이터 언어
        - `한번에 하나의 레코드`만 처리
        - 응용 프로그램 속에 삽입되어 사용
        - DML예비 컴파일러에 의해 처리
    - 비절차적 DML
        - 고급 데이터 언어
        - 한번에 여러개의 레코드를 처리 
        - 질의어 : `대화식`, 프로그램의 추상적 표현
    - 명령어
        - SELECT 검색
        - INSERT 삽입
        - UPDATE 갱신
        - DELETE 삭제

    DML 예제

        SELECT STUDENTNUMBER
        FROM STUDENT
        WHERE LASTNAME='JACK';
---
- DCL(Data Control Language) : `공용 데이터베이스 관리`를 위한 데이터 제어언어
    - 제어 내용
        - 데이터 보안
        - 데이터 무결성
        - 데이터 회복
        - 병행수행
    - 명령어
        - 특정 명령 수행에 관한 권한부여(GRANT), 권한회수(REVOKE)
        - 입력 시 해당 값이 조건에 부합하는지 CHECK
        - 모든 작업을 정상적으로 처리(COMMIT), 이전상태로 복구(ROLLBACK)
        - 특정 명령을 병행제어 해도 되는지 LOCK, UNLOCK
---
### 사용자
- 일반 사용자(end user) : 비절차적 DML을 통해 DB접근
- 응용 프로그래머: 응용 프로그램을 통해 DB접근
- DB관리자(DBA) : DDL과 DCL을 통해 DB를 정의하고 제어
---
### DBMS
- 일반 사용자의 DB접근 과정
    1. 사용자의 접근요구를 접수 및 분석
    2. 시스템이 이해 할 수 있는 형태로 변환
    3. 사상(mapping)으로 필요한 데이터에 접근
    4. 필요한 연산을 실행
- DDL 컴파일러 : DDL로 명세된 스키마를 컴파일 하여 catalog에 저장
- 질의어 처리기 : 질의문을 분석 및 컴파일 하여 목적코드 생성
- 예비 컴파일러 : 프로그램에 삽입된 DML을 추출하고 그 자리를 procedure call로 대체
- DML 컴파일러 : DML 명령어를 컴파일하여 목적코드 생성
---
### DBA(Database Administrator) 관리자
- 정의 : DB시스템의 관리, 운영에 대한 모든 책임을 지는 사람
- 역할 : 다량의 정형 `데이터를 효율적`으로 관리, 활용, 처리하기 위해 DBMS 구축,설계,관리











    
    

