
## :link: 참고 링크
* #### :books: [Bash 쉘스크립트 개발 시작하기](https://wikidocs.net/book/2370)
<!-- - ℹ️: `CentOS` 6.9 버전, `Ubuntu` 기반의 `Bash` 쉘 사용 -->
* ####  [리눅스 부팅 과정](https://blog.naver.com/goodday2k/220535307917)

---
# 1. 리눅스 기초


---
## contents
- [1. 리눅스](#1-리눅스)
- [2. 쉘](#2-쉘)
- [3. 리눅스 파이프](#3-리눅스-파이프)
- [4. 파일 디스크립터](#4-파일-디스크립터)
- [5. 쉘 스크립트](#5-쉘-스크립트)
- [6. 파티셔닝](#6-파티셔닝)
- [7. 마운트](#7-마운트)
- [8. PnP(Plug and Play)](#8-PnPPlug-and-Play)
- [9. 프로세스 실행 방식](#9-프로세스-실행-방식)
- [10. 주요 패키지 매니지](#10-주요-패키지-매니지)

---

## 1. 리눅스
- 리누스 토발즈가 개발한 `리눅스`는 `OS 커널`로, GNU 프로젝트에 속하는 자유 소프트웨어이다
- 일반적인 의미의 `리눅스`는 OS(운영체제)이며, <br>
  리눅스 OS 커널에 여러 가지 응용 프로그램을 조합한 리눅스 배포판을 의미한다
- 대표적인 리눅스 배포판은 우분투, 레드햇, CentOS, 페도라, 데비안, Gentoo, Knoppix, Linux Mint, Mandriva, OpenSUSE, Pardus 등이 있다
- 다중 처리, 다중 사용자 시스템에 속한다

<br>

## 2. 쉘
- 유닉스 계열의 시스템에서 사용하는 대화형 인터페이스이다
- 명령어 해석기이다. 사용자가 입력한 명령을 해석해 커널로 전달하거나, <br>
커널의 처리 결과를 사용자에게 전달한다
- 사용자가 커널과 통신하기 위해 사용 
- 쉘을 사용하기 위해 여는 터미널은 하나의 프로세스
- 쉘의 종류에는 Bash, Tcsh, Ksh, Zsh, Fish 등이 있다
- centOS에서 기본적으로 사용하는 쉘: `Bash` 쉘(Bourne Again Shell)
- 어떤 쉘을 사용하는지 확인하는 방법:
```console
$ echo $SHELL
```

<br>

## 3. 리눅스 파이프
- 명령어 사이를 `|`를 통해 연결할 수 있다
- 이때 명령어 하나 하나는 각각의 **프로세스** 에서 독립적으로 실행된다
- 프로세스 간의 입력, 출력을 연결할 때 사용
- 파이프로 작성한 각 명령어를 실행한 터미널 프로세스의 **자식 프로세스** 로 **백그라운드** 에서 시작한다
- 부모 프로세스에서 fork를 실행해 각 자식 프로세스를 생성한다
- 자식 프로세스는 `exec` system call방식으로 호출되므로 **PID는 모두 동일** 하며, 병렬적으로 처리된다

<br>

## 4. 파일 디스크립터

- 리눅스에서 프로세스가 파일을 열 때, 음이 아닌 정수인 file descriptor가 반환된다
- file descriptor를 통해 파일에 쉽게 접근 가능
- 프로세스마다 하나의 file descriptor table을 가지고 있다<br>
  (file descriptor는 file descriptor table의 인덱스)
- 같은 파일이라 할지라도 프로세스마다 file descriptor는 다를 수도 있다

> 프로세스의 기본적인 파일 디스크립터

| 파일 디스크립터 | 이름 | 기능 | 표준장치 |
| :---: | :---: | --- | :---: 
| 0 | stdin | 명령어에 입력될 내용 저장 | 키보드
| 1 | stdout | 명령어에 출력될 내용 저장 | 화면
| 2 | stderr | 명령어에 출력될 에러 메시지 저장 | 화면


<br>

## 5. 쉘 스크립트
- Unix 커맨드 등을 나열해 실행하는 것
- test.sh와 같이 `*.sh` 를 확장자로 갖는다
- 문서 첫 줄에 `#!/bin/sh`를 기입해 쉘 스크립트를 작성한다는 사실을 시스템에게 알린다

<br>

## 6. 파티셔닝
- 하나의 물리 저장장치를 시스템 내부에서 여러 디스크 공간으로 나누는 작업
- 나뉘어진 공간을 파티션(Partition)이라고 지칭
- Primary(물리적으로 나뉜 공간), Extended(논리적으로 나뉜 공간)

<br>

## 7. 마운트
- 물리적인 장치를 특정 위치(디렉토리)로 연결시키는 과정
- 리눅스에서는 하드디스크 파티션, CD/DVD, USB 메모리 등을 사용하기 위해서는<br> 지정된 위치에 연결해야 한다
- 마운트 정보 확인 명령어 `df -f`, `mount`
- 마운트 해제 명령어: `ummount 장치이름` 
- 리눅스의 각 파일 시스템은 하나의 디렉토리에 마운트되어 있다

<br>

## 8. PnP(Plug and Play)
- 내부에서 마운트 작업이 이루어지는 기능
- window는 PnP OS이지만 리눅스는 PnP OS가 아니다
- 리눅스도 BIOS가 버스 리소스를 설정하는 등 PnP역할을 하고 있으며<br>
PCI 버스 상에서도 PnP에 해당하는 기능을 구현하고 있다
- 리눅스의 경우 이 이외의 경우, USB메모리를 사용하는 등의 경우에는 사용자가 직접 **마운트** 해야 한다

<br>

## 9. 프로세스 실행 방식

| 프로세스 실행 방식 | 설명 | 
| :---: | --- |
| 포그라운드<br>(foreground) | - 키보드 입력을 받아 동작하는 방식 <br> - 다른 작업을 실행하기 위해서는 작업이 끝날 때까지 기다려야 함 |
| 백그라운드<br>(background) | - 사용자와 대화 없이 실행되는 방식 <br> - 명령어 뒤에 `&`를 붙여 실행 <br>|

- 백그라운드 환경에서 `nohup` 커맨드를 이용하면 터미널 세션이 종료되어도 **작업이 종료될 때까지** 프로세스를 실행한다

<br>

## 10. 주요 패키지 매니지
- 리눅스의 주요 모듈은 패키지 매니저를 통해 설치 가능하다
- **패키지 설치 명령** 은 yum(레드햇 계열, CentOS), apt(데비안 계열, 우분투)가 있다.

### 1. yum 

| 명령 | 설명 |
| :---: |---|
| yum update | 설치된 프로그램 업데이트 | 
| yum upgrade | 설치된 프로그램 업데이트, <br> **더이상 사용되지 않는 파일 삭제** | 
| yum update 프로그램 | 프로그램 업데이트 | 
| yum install 프로그램 | 프로그램 설치 |
| yum list 프로그램 | 설치 가능한 프로그램 버전 출력 |
| yum remove 프로그램 | 프로그램 삭제  | 

### 2. apt
- apt-get보다 더 나은 대화형식(상태바 등)을 제공하는 것이 apt
- **apt** 는 기존의 **apt-get, apt-cache** 등을 통합하여 나온 패키지 매니징 툴

| apt 명령 | 설명 |
| :---: | --- |
| apt update | 설치 가능한 리스트 업데이트 | 
| apt upgrade | 모든 패키지 업그레이드 | 
| apt full-upgrade | 모든 패키지 업그레이드<br>(만일 업그레이드를 위해 구 버전 패키지를 삭제해야 한다면 삭제 수행) | 
| apt install 패키지 | 패키지 설치 | 
| apt remove 패키지 | 패키지 삭제 (설정 파일은 삭제 x) | 
| apt purge 패키지 | 패키지 삭제 (설정 파일 삭제) | 
| apt search 패키지 | 패키지 검색 |
| apt show 패키지| 패키지 상세 정보 출력 |
| apt list | 전체 패키지 목록 조회 |

<br>

---
추가 자료: [리눅스 부팅 과정](https://blog.naver.com/goodday2k/220535307917)
